<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ObjectDetector AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
        body {
        background-color: #f8f9fa;
        font-family: 'Segoe UI', sans-serif;
        }

        .main-title {
        margin-top: 2rem;
        margin-bottom: 1rem;
        }

        .live-feed {
        background-color: #1e2a38;
        border-radius: 10px;
        height: 400px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        }

        .live-feed img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        }

        .result-cards {
        margin-top: 1.5rem;
        }

        .card {
        background-color: white;
        border: none;
        box-shadow: none;
        }

        .card-title {
        font-weight: 600;
        }

        .card-text {
        font-size: 0.95rem;
        }

        @media (max-width: 768px) {
        .live-feed {
            height: 250px;
        }
        }


        .btn-custom-dark {
		background-color: #fff;
		color: #000;
		border: 2px solid #000;
		transition: all 0.3s ease;
		align-items:start;
		}

		.btn-custom-dark:hover,
		.btn-custom-dark:focus,
		.btn-custom-dark:active {
		background-color: #000;
		color: #fff;
		border: 2px solid #000;
		}

    </style>
</head>

<body>
    
    <div>
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3 custom-bg" style="background-color:#fff;">
            <div class="container">
            <a class="navbar-brand fw-bold" href="{% url 'home' %}">üëÅÔ∏è ObjectDetect AI</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link ms-3" href="{% url 'home' %}"><b>Home</b></a>
                <a class="nav-link ms-3" href="{% url 'image' %}"><b>Features</b></a>
                <a class="nav-link active border-bottom border-dark ms-3" href="{% url 'webcam' %}"><b>Webcam</b></a>
                <a class="nav-link ms-3" href="{% url 'about' %}"><b>About Us</b></a>
                <a class="nav-link ms-3" href="{% url 'contact' %}"><b>Contact</b></a>
            </div>
            </div>
        </nav>
    </div>

    <div class="container px-4">
        <h3 class="main-title">Real-time Object Detection</h3>
        <p class="text-muted">Live feed is streamed below with backend-processed object detection results.</p>
    </div>

    <!-- Live video feed (received as images from backend) -->
    <div class="container px-4" style="min-height: 600px;">
        <div class="live-feed mb-4" style="min-height: 600px;">
            <img src="{% url 'video_feed' %}" alt="Live Video Feed" id="liveVideo" style="padding: 1%;"/>
        </div>
    </div>
        
    <div style="text-align: center;">
        <button id="snapshotBtn" class="btn btn-custom-dark" >Download Snapshot</button>
        <br><br>
        <canvas id="myCanvas" style="display:none;"></canvas>
    </div>


    <script>
        document.getElementById('snapshotBtn').onclick = function() {
            const img = document.getElementById('liveVideo');
            const canvas = document.getElementById('myCanvas');
            canvas.width = img.width;
            canvas.height = img.height;
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, img.width, img.height);

            // Create a link and trigger download from canvas
            const a = document.createElement('a');
            a.href = canvas.toDataURL('image/jpeg');
            a.download = 'snapshot.jpg';
            a.click();
        };

    </script>

    <div class="container my-5">
  <div class="row g-4">
    <!-- Tech Stack -->
    <div class="col-12">
      <div class="card border-start border-success border-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">üîß Built With</h5>
          <p class="card-text mb-0">
            Python ‚Ä¢ Django ‚Ä¢ OpenCV ‚Ä¢ YOLOv8 ‚Ä¢ JavaScript ‚Ä¢ HTML5 ‚Ä¢ CSS3
          </p>
        </div>
      </div>
    </div>

    <!-- Privacy Notice -->
    <div class="col-12">
      <div class="card border-start border-success border-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">üîí Privacy Notice</h5>
          <p class="card-text mb-0">
            This web app runs detection in real time. Your webcam feed is processed in-browser and not stored or uploaded.
          </p>
        </div>
      </div>
    </div>

    <!-- Tips -->
    <div class="col-12">
      <div class="card border-start border-success border-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">üí° Tips for Best Detection</h5>
          <ul class="mb-0">
            <li>Ensure your face is clearly visible in the frame.</li>
            <li>Use in well-lit environments.</li>
            <li>Keep background free of clutter for better results.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

    
    <footer class="bg-dark text-white mt-auto py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5 class="fw-bold">ObjectDetector</h5>
                    <p class="text-muted small" style="-webkit-text-fill-color: #fff;">Advanced AI-powered object detection for real-time webcam feeds.</p>
                </div>

                <div class="col-md-4 mb-3">
                    <div style="padding-left: 35%;">
                        <h6 class="text-white fs-5">Quick Links</h6>
                        <ul class="list-unstyled text-muted fs-6">
                            <li><a href="{% url 'home' %}" class="text-reset text-decoration-none" style="-webkit-text-fill-color: #fff;">Home</a></li>
                            <li><a href="{% url 'image' %}" class="text-reset text-decoration-none" style="-webkit-text-fill-color: #fff;">Features</a></li>
                            <li><a href="{% url 'webcam' %}" class="text-reset text-decoration-none" style="-webkit-text-fill-color: #fff;">Webcam</a></li>
                            <li><a href="{% url 'about' %}" class="text-reset text-decoration-none" style="-webkit-text-fill-color: #fff;">About Us</a></li>
                        </ul>
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <div style="padding-left: 40%;">
                        <h6 class="text-white fs-5">Support</h6>
                        <ul class="list-unstyled text-muted fs-6">
                            <li><a href="{% url 'contact' %}" class="text-reset text-decoration-none" style="-webkit-text-fill-color: #fff;">Contact</a></li>
                            
                        </ul>
                    </div>
                </div>

                <div class="text-center text-muted mt-3 fs-6" style="-webkit-text-fill-color: #fff;">
                    ¬© 2025 ObjectDetector. All rights reserved.
                </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
